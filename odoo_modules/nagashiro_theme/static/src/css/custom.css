/* Nagashiro Theme - Custom CSS */

/* Hide Odoo Branding */
.o_menu_brand,
.o_main_navbar .o_menu_brand,
.navbar-brand {
    /* Custom logo will be shown instead */
}

/* Remove "Powered by Odoo" footer */
.o_footer,
.o_footer_copyright {
    display: none !important;
}

/* Hide "Powered by Odoo" / "由Odoo提供支持" on login page */
.card-body .text-center.small.mt-4.pt-3.border-top,
.card-body a[href*="odoo.com"][href*="utm_source"],
.card-body a:has(span:contains("Odoo")) {
    display: none !important;
    visibility: hidden !important;
}

/* Alternative: Hide the entire footer section on login page */
.card-body > div.text-center.small {
    display: none !important;
}

/* Customize login page */
.oe_single_form_header h1 {
    color: #2c3e50;
    font-weight: 600;
}

.oe_single_form_header img {
    max-height: 80px;
    margin-bottom: 20px;
}

/* Customize top bar - Override Odoo default colors with high specificity */
.o_main_navbar {
    background-color: #2c3e50 !important;
    background: #2c3e50 !important;
    border-bottom: 3px solid #3498db !important;
    position: relative !important;
    z-index: 1000 !important;
    overflow: visible !important; /* Ensure border is visible */
}

/* Ensure the blue line extends across the entire navbar width - overlay method */
.o_main_navbar::after {
    content: '';
    position: absolute;
    bottom: -3px;
    left: 0;
    right: 0;
    width: 100%;
    height: 3px;
    background-color: #3498db !important;
    z-index: 1001 !important;
    pointer-events: none;
}

/* Override navigation bar background colors - use multiple selectors for maximum coverage */
.o_main_navbar,
.o_main_navbar > *,
.o_main_navbar .o_menu_brand,
.o_main_navbar .o_menu_apps,
.o_main_navbar .navbar-nav,
.o_main_navbar .o_menu_sections {
    background-color: #2c3e50 !important;
    background: #2c3e50 !important;
}

/* Ensure child elements don't overlap or extend beyond the blue line */
.o_main_navbar > * {
    position: relative;
    z-index: auto;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

/* Ensure menu sections don't overlap the blue line */
.o_main_navbar .o_menu_sections,
.o_main_navbar .o_menu_brand,
.o_main_navbar .o_menu_apps,
.o_main_navbar .navbar-nav {
    position: relative;
    z-index: auto;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
    bottom: auto !important;
}

/* Ensure dropdown menus don't overlap the blue line when closed */
.o_main_navbar .dropdown-menu:not(.show) {
    border-bottom: none !important;
}

/* Override menu sections background (purple sections) - high specificity */
.o_main_navbar .o_menu_sections,
.o_main_navbar .o_menu_sections > *,
.o_main_navbar .o_menu_sections .nav-link,
.o_main_navbar .o_menu_sections .dropdown-toggle {
    background-color: #34495e !important;
    background: #34495e !important;
    background-image: none !important;
}

/* Override active tab/menu item colors (currently blue) */
.o_main_navbar .o_menu_brand,
.o_main_navbar .o_menu_brand.active,
.o_main_navbar .o_menu_apps .o_app.active,
.o_main_navbar .o_menu_apps .o_app[aria-expanded="true"],
.o_main_navbar .navbar-nav .nav-link.active {
    background-color: #34495e !important;
    background: #34495e !important;
    background-image: none !important;
}

/* Override inactive tab/menu item colors (currently purple) */
.o_main_navbar .o_menu_apps .o_app:not(.active),
.o_main_navbar .navbar-nav .nav-link:not(.active),
.o_main_navbar .o_menu_sections .nav-link:not(.active) {
    background-color: #34495e !important;
    background: #34495e !important;
    background-image: none !important;
}

/* Override dropdown menu colors */
.o_main_navbar .dropdown-menu,
.o_main_navbar .o_menu_sections .dropdown-menu,
.o_main_navbar .o-menu-dropdown {
    background-color: #2c3e50 !important;
    background: #2c3e50 !important;
    background-image: none !important;
}

/* Override any element with purple/blue background in navbar */
.o_main_navbar [style*="background"],
.o_main_navbar [style*="background-color"] {
    background-color: #34495e !important;
    background: #34495e !important;
}

/* Override CSS variables if used */
:root {
    --o-navbar-background-color: #2c3e50 !important;
    --o-navbar-inactive-background-color: #34495e !important;
    --o-navbar-active-background-color: #34495e !important;
}

.o_main_navbar .o_menu_brand img {
    max-height: 40px;
    padding: 5px 0;
}

/* Customize buttons */
.btn-primary {
    background-color: #3498db;
    border-color: #2980b9;
}

.btn-primary:hover {
    background-color: #2980b9;
    border-color: #21618c;
}

/* Customize links */
a {
    color: #3498db;
}

a:hover {
    color: #2980b9;
}

/* Remove "Odoo" text from various places */
.o_menu_apps .o_app[data-menu-xmlid*="odoo"] .o_app_name:after {
    content: "";
}

/* 
    POS Navbar Logo Styling - Nagashiro Brand
    ==========================================
    Style the Nagashiro logo in POS navbar header center area
    Using flex layout (方案 1) for stable visual centering
*/

/* Logo container - already exists in template as .pos-centerheader */
.pos-centerheader {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    flex: 0 0 auto !important;
    min-width: 0 !important;
}

/* Nagashiro logo styling */
.pos-centerheader img.nagashiro-brand-logo,
.pos-centerheader img.pos-logo[src*="nagashiro_theme"] {
    /* Core sizing - height matches header, width auto maintains aspect ratio */
    height: 20px !important;
    width: auto !important;
    max-width: 140px !important;
    max-height: 22px !important;
    
    /* Visual properties */
    object-fit: contain !important;
    display: block !important;
    
    /* No borders, transparent background */
    border: none !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
    
    /* Prevent layout shifts */
    flex-shrink: 0 !important;
    
    /* Smooth transitions */
    transition: opacity 0.2s ease !important;
}

/* Hover effect (optional - subtle opacity change) */
.pos-centerheader img.nagashiro-brand-logo:hover,
.pos-centerheader img.pos-logo[src*="nagashiro_theme"]:hover {
    opacity: 0.85 !important;
}

/* Responsive: Medium screens (< 900px) - reduce logo size */
@media (max-width: 900px) {
    .pos-centerheader img.nagashiro-brand-logo,
    .pos-centerheader img.pos-logo[src*="nagashiro_theme"] {
        height: 16px !important;
        max-height: 16px !important;
        max-width: 100px !important;
    }
}

/* Responsive: Small screens (< 700px) - hide logo to avoid crowding */
@media (max-width: 700px) {
    .pos-centerheader img.nagashiro-brand-logo,
    .pos-centerheader img.pos-logo[src*="nagashiro_theme"] {
        display: none !important;
    }
}

/* Fallback: If logo is replaced via JavaScript (legacy support) */
img.pos-logo[src*="nagashiro_theme"]:not(.nagashiro-brand-logo) {
    height: 20px !important;
    width: auto !important;
    max-width: 140px !important;
    max-height: 22px !important;
    object-fit: contain !important;
}

@media (max-width: 900px) {
    img.pos-logo[src*="nagashiro_theme"]:not(.nagashiro-brand-logo) {
        height: 16px !important;
        max-height: 16px !important;
        max-width: 100px !important;
    }
}

@media (max-width: 700px) {
    img.pos-logo[src*="nagashiro_theme"]:not(.nagashiro-brand-logo) {
        display: none !important;
    }
}

/* Hide POS screensaver logo (the large "odoo" logo on screensaver) */
/* Method: Use CSS to hide all text elements that might contain "odoo" */
/* Since CSS cannot select by text content, we'll hide common patterns */

/* Hide screensaver container entirely if it contains "odoo" text */
.pos .screensaver,
.pos-screensaver,
[class*="screensaver"],
div[class*="Screensaver"],
/* Target common screensaver wrapper classes */
.pos > div:not([class*="screen"]):not([class*="order"]):not([class*="product"]) {
    /* We'll use a more specific approach below */
}

/* Hide all direct children of screensaver that might be the logo */
.pos .screensaver > *,
.pos-screensaver > *,
/* Hide centered text elements (common for logo) */
.pos div[style*="text-align: center"]:not([class*="order"]):not([class*="product"]):not([class*="button"]),
.pos span[style*="text-align: center"]:not([class*="order"]):not([class*="product"]):not([class*="button"]) {
    /* Too broad, we need JavaScript */
}

/* Hide screensaver logo by targeting common patterns */
.pos .screensaver [class*="logo"],
.pos .screensaver [class*="brand"],
.pos-screensaver [class*="logo"],
.pos-screensaver [class*="brand"],
/* Hide any element with "odoo" in class name within screensaver */
.pos .screensaver [class*="odoo"],
.pos-screensaver [class*="odoo"],
/* Hide large text elements in screensaver (likely the logo) */
.pos .screensaver div[style*="font-size"]:not([class*="time"]):not([class*="date"]),
.pos-screensaver div[style*="font-size"]:not([class*="time"]):not([class*="date"]) {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* Hide screensaver images - Only target screensaver, NOT product images */
.pos .screensaver img,
.pos-screensaver img,
.pos .login-overlay img:not(.pos-logo),
.pos .idle-screen img:not(.pos-logo) {
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}

/* More aggressive: Hide any element containing only "odoo" text */
/* This requires JavaScript, but we can hide common parent containers */
.pos .screensaver > div:only-child,
.pos-screensaver > div:only-child {
    /* Hide if it's the only child (likely the logo container) */
    display: none !important;
    visibility: hidden !important;
    opacity: 0 !important;
}


/* Hide "关于" (About) page content - QR codes and copyright information */
/* Hide QR codes (Google Play and Apple App Store) */
img[src*="qr"],
img[alt*="QR"],
img[alt*="qr code"],
.col-md-6 img,
.col-sm-6 img,
[class*="qr"] img {
    display: none !important;
    visibility: hidden !important;
}

/* Hide QR code containers */
.col-md-6:has(img[src*="qr"]),
.col-sm-6:has(img[src*="qr"]),
div:has(img[src*="qr"]):not(:has(>div)) {
    display: none !important;
}

/* Hide Odoo version and copyright text */
/* Target text containing "Odoo 18.0" or "版权所有" or "Copyright" */
.text-muted,
.small,
[class*="text-muted"] {
    /* Use a more specific approach - hide parent containers */
}

/* Hide links to Odoo.com */
a[href*="odoo.com"],
a[href*="odoo.com/buy"] {
    display: none !important;
    visibility: hidden !important;
}

/* Hide entire about page modal or section if class exists */
.o_about,
.modal-body:has(img[src*="qr"]),
.modal-body .row:has(img[src*="qr"]) {
    display: none !important;
}

/* Alternative: Hide all images in about page context */
[class*="about"] img,
.modal[class*="about"] img {
    display: none !important;
}

/* Hide "文档" (Documentation) and "支持" (Support) menu items from user menu */
/* Using data attribute set by JavaScript as a reliable selector */
[data-nagashiro-hidden="true"] {
    display: none !important;
    visibility: hidden !important;
}

/* Hide menu items by href patterns (if URLs contain these keywords) */
.o_user_menu_menu a[href*="documentation"],
.o_user_menu_menu a[href*="support"],
.o_user_menu_menu a[href*="/web/database"] {
    display: none !important;
    visibility: hidden !important;
}

/* Hide "由 Odoo 提供支持" / "Powered by Odoo" text in POS receipt */
/* Target receipt print/preview areas */
.receipt,
.pos-receipt,
[class*="receipt"],
.print-receipt,
/* Target text containing "由 Odoo 提供支持" or "Powered by Odoo" */
div:contains("由 Odoo 提供支持"),
div:contains("Powered by Odoo"),
p:contains("由 Odoo 提供支持"),
p:contains("Powered by Odoo"),
span:contains("由 Odoo 提供支持"),
span:contains("Powered by Odoo") {
    /* CSS cannot use :contains() selector, so we'll target by common patterns */
}

/* Hide receipt footer containing Odoo branding */
.receipt-footer,
.pos-receipt-footer,
[class*="receipt"][class*="footer"],
/* More specific: hide elements in receipt that might contain the text */
div[style*="text-align: center"]:has-text("由 Odoo 提供支持"),
div[style*="text-align: center"]:has-text("Powered by Odoo") {
    display: none !important;
    visibility: hidden !important;
}

/* Hide "由 Odoo 提供支持" / "Powered by Odoo" in POS receipt using CSS */
/* Since POS receipts are rendered in JavaScript, we target common patterns */

/* Target receipt containers and hide footer text */
.pos .receipt-screen .order-receipt,
.pos-receipt,
.receipt-screen .receipt,
/* Target elements that typically contain the footer text */
.receipt-screen .receipt > div:last-child,
.order-receipt > div:last-child {
    /* We'll use a more specific approach below */
}

/* Hide text containing "由 Odoo 提供支持" using CSS */
/* Note: CSS cannot directly select by text content, so we target by position/structure */
.receipt-screen .order-receipt > div:last-child,
.order-receipt > div:last-child > div:last-child {
    /* This targets the footer area, but we need JavaScript to filter by text */
}

/* Better approach: Use CSS to hide specific classes or IDs if they exist */
.receipt-footer,
.pos-receipt-footer,
[class*="receipt-footer"],
[class*="powered-by"] {
    display: none !important;
    visibility: hidden !important;
}

/* Hide the last centered text div in receipt (common pattern for footer) */
.order-receipt div[style*="text-align: center"]:last-of-type,
.receipt-screen div[style*="text-align: center"]:last-of-type {
    /* This is too broad, we need JavaScript help */
}

/* Custom scrollbar */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
    background: #3498db;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #2980b9;
}

