<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- æ‰©å±• Discuss Channel è§†å›¾ï¼Œæ·»åŠ  AI Assistant æŒ‰é’® -->
    <!-- æ³¨æ„ï¼šOdoo 18 ä¸­ discuss.channel çš„è§†å›¾å¯èƒ½åœ¨ mail æ¨¡å—ä¸­ -->
    <!-- æˆ‘ä»¬å°è¯•å¤šä¸ªå¯èƒ½çš„è§†å›¾ ID -->
    
    <!-- æ–¹æ¡ˆ1: ç»§æ‰¿ mail.discuss_channel_view_form (å¦‚æžœå­˜åœ¨) -->
    <record id="view_discuss_channel_form_inherit_ai_companion" model="ir.ui.view">
        <field name="name">discuss.channel.form.inherit.ai.companion</field>
        <field name="model">discuss.channel</field>
        <field name="inherit_id" ref="mail.discuss_channel_view_form"/>
        <field name="arch" type="xml">
            <!-- åœ¨ header ä¸­æ·»åŠ æŒ‰é’® -->
            <xpath expr="//header" position="inside">
                <button name="action_add_ai_assistant" 
                        string="ðŸ¤– æ·»åŠ  AI Assistant" 
                        type="object" 
                        class="btn-secondary"
                        invisible="context.get('default_channel_type') == 'channel' or context.get('default_channel_type') == 'group'"/>
                <button name="action_check_ai_config" 
                        string="ðŸ” æ£€æŸ¥ AI é…ç½®" 
                        type="object" 
                        class="btn-info"/>
            </xpath>
        </field>
    </record>
    
    <!-- æ–¹æ¡ˆ2: å¦‚æžœä¸Šé¢çš„è§†å›¾ä¸å­˜åœ¨ï¼Œå°è¯•ç»§æ‰¿ mail.channel_view_form -->
    <record id="view_mail_channel_form_inherit_ai_companion" model="ir.ui.view">
        <field name="name">mail.channel.form.inherit.ai.companion</field>
        <field name="model">discuss.channel</field>
        <field name="inherit_id" ref="mail.channel_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//header" position="inside">
                <button name="action_add_ai_assistant" 
                        string="ðŸ¤– æ·»åŠ  AI Assistant" 
                        type="object" 
                        class="btn-secondary"/>
                <button name="action_check_ai_config" 
                        string="ðŸ” æ£€æŸ¥ AI é…ç½®" 
                        type="object" 
                        class="btn-info"/>
            </xpath>
        </field>
    </record>
    
    <!-- æ–¹æ¡ˆ3: å¦‚æžœä»¥ä¸Šéƒ½ä¸å­˜åœ¨ï¼Œå°è¯•é€šè¿‡ JavaScript æ³¨å…¥æŒ‰é’® -->
    <!-- è¿™ä¸ªæ–¹æ¡ˆä½œä¸ºå¤‡é€‰ï¼Œå¦‚æžœå‰ä¸¤ä¸ªéƒ½ä¸å·¥ä½œ -->
    
</odoo>


